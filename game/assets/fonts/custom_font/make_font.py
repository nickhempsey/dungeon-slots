from PIL import Image, ImageDraw

font_3x5 = {
    'A': ['010','101','111','101','101'],
    'B': ['110','101','110','101','110'],
    'C': ['011','100','100','100','011'],
    'D': ['110','101','101','101','110'],
    'E': ['111','100','110','100','111'],
    'F': ['111','100','110','100','100'],
    'G': ['011','100','101','101','011'],
    'H': ['101','101','111','101','101'],
    'I': ['111','010','010','010','111'],
    'J': ['001','001','001','101','010'],
    'K': ['101','110','100','110','101'],
    'L': ['100','100','100','100','111'],
    'M': ['101','111','111','101','101'],
    'N': ['101','111','111','111','101'],
    'O': ['010','101','101','101','010'],
    'P': ['110','101','110','100','100'],
    'Q': ['010','101','101','111','011'],
    'R': ['110','101','110','110','101'],
    'S': ['011','100','010','001','110'],
    'T': ['111','010','010','010','010'],
    'U': ['101','101','101','101','111'],
    'V': ['101','101','101','101','010'],
    'W': ['101','101','111','111','101'],
    'X': ['101','101','010','101','101'],
    'Y': ['101','101','010','010','010'],
    'Z': ['111','001','010','100','111'],
    'a': ['000','110','001','111','111'],
    'b': ['100','110','101','101','110'],
    'c': ['000','011','100','100','011'],
    'd': ['001','011','101','101','011'],
    'e': ['010','101','111','100','011'],
    'f': ['011','100','110','100','100'],
    'g': ['011','101','011','001','110'],
    'h': ['100','110','101','101','101'],
    'i': ['010','000','110','010','111'],
    'j': ['001','000','001','101','010'],
    'k': ['100','101','110','110','101'],
    'l': ['110','010','010','010','111'],
    'm': ['000','110','111','101','101'],
    'n': ['000','110','101','101','101'],
    'o': ['000','010','101','101','010'],
    'p': ['110','101','110','100','100'],
    'q': ['011','101','011','001','001'],
    'r': ['000','110','101','100','100'],
    's': ['011','100','010','001','110'],
    't': ['100','110','100','100','011'],
    'u': ['000','101','101','101','111'],
    'v': ['000','101','101','101','010'],
    'w': ['000','101','111','111','101'],
    'x': ['000','101','010','010','101'],
    'y': ['000','101','011','001','110'],
    'z': ['000','111','010','100','111'],
    '0': ['010','101','101','101','010'],
    '1': ['010','110','010','010','111'],
    '2': ['110','001','010','100','111'],
    '3': ['110','001','010','001','110'],
    '4': ['101','101','111','001','001'],
    '5': ['111','100','110','001','110'],
    '6': ['011','100','110','101','010'],
    '7': ['111','001','010','010','010'],
    '8': ['010','101','010','101','010'],
    '9': ['010','101','011','001','110'],
    '.': ['000','000','000','010','010'],
    ',': ['000','000','000','010','100'],
    ':': ['000','010','000','010','000'],
    ';': ['000','010','000','010','100'],
    '!': ['010','010','010','000','010'],
    '?': ['110','001','010','000','010'],
    "'": ['010','010','000','000','000'],
    '"': ['101','101','000','000','000'],
    '(': ['001','010','010','010','001'],
    ')': ['100','010','010','010','100'],
    '[': ['011','010','010','010','011'],
    ']': ['110','010','010','010','110'],
    '{': ['001','010','100','010','001'],
    '}': ['100','010','001','010','100'],
    '-': ['000','000','111','000','000'],
    '_': ['000','000','000','000','111'],
    '+': ['000','010','111','010','000'],
    '=': ['000','111','000','111','000'],
    '*': ['010','111','010','111','010'],
    '/': ['001','001','010','100','100'],
    '\\': ['100','100','010','001','001'],
    '@': ['010','101','111','100','011'],
    '#': ['101','111','101','111','101'],
    '$': ['010','111','010','111','010'],
    '%': ['110','001','010','100','011'],
    '^': ['010','101','000','000','000'],
    '&': ['010','101','010','101','011'],
}

chars = (
    "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
    "abcdefghijklmnopqrstuvwxyz"
    "0123456789"
    ".,:;!?\'\"()[]{}-_+=*/\\@#$%^& "
    
)

buffer = 1
char_width = 3
char_height = 5
separator = 2  # 1px separator column

img_width = separator + (char_width + separator) * len(chars)
img_height = char_height + buffer * 2

# Transparent separator color (RGBA)
sep_color = (255, 0, 255, 255)
glyph_color = (0, 0, 0, 255)
transparent = (0, 0, 0, 0)

# Create image
img = Image.new("RGBA", (img_width, img_height), sep_color)
draw = ImageDraw.Draw(img)

for idx, c in enumerate(chars):
    glyph = font_3x5.get(c, ['000'] * 5)
    x_offset = separator + idx * (char_width + separator)
    bottom_y = char_height + buffer
    # Shift glyph down by 1 to leave top transparent
    for y, row in enumerate(glyph):
        for x, pixel in enumerate(row):
            draw.point((x_offset + x, 0), fill=transparent)
            draw.point((x_offset + x, bottom_y), fill=transparent)
            if pixel == '1':
                draw.point((x_offset + x, buffer + y), fill=glyph_color)
            else:
                draw.point((x_offset + x, buffer + y), fill=transparent)
    # The top and bottom rows are already transparent by default

img.save("tiny_font.png")
print("Saved as tiny_font.png")